<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
        Select 输入框  
    </title>

         
    <link href="../../Content/jquery.mobile-1.2.0.min.css" rel="stylesheet" type="text/css" />
        
    <script src="../../Scripts/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>        
</head>

<body>




<!-- data-role = page  用于定义  一个页面.  -->
<div data-role="page">


    <!--  data-role = header  用于定义一个 顶部标题.  -->
    <div data-role="header">
	    <h1> 动态加载 Select 输入  </h1>
        <a href="/html5/home.html" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
    </div>  <!-- /header -->





    <!--  data-role = content  用于定义一个 中间内容区域.  -->
    <div data-role="content">
        
        <h2> 动态加载 Select </h2>

        <form action="#" method="get">
        
            <p> 
              动态加载 Select 的情况下， 在数据加载完毕以后， 再调用一个   
              <code> $('#').selectmenu('refresh', true); </code> 的方法。
              将会自动选中第一个数据
              （对于某些 必须输入的 Select， 此操作是必要的）
            </p>
            

            <input type="button" id="callAjax" value="动态加载" />


			<label for="testSelect1" class="select"> 不调用 selectmenu('refresh', true); </label>
			<select name="testSelect1" id="testSelect1">
            </select>


            <label for="testSelect2" class="select">调用 selectmenu('refresh', true); </label>
			<select name="testSelect2" id="testSelect2">
			</select>





        </form>
    </div> <!-- /content -->





    <!--  data-role = footer  用于定义一个 底部标题.  -->
	<div data-role="footer" data-id="foo1" data-position="fixed">
        <h3>
            Footer
        </h3>
	</div><!-- /footer -->

</div><!-- /page -->







<script type="text/javascript">


    $(document).ready(function () {

        $("#callAjax").bind("click", function (event, ui) {

            // 这里主要是为了模拟动态加载， 就不去 ajax 了， 简单 for 循环一下.
            for (var i = 0; i < 5; i++) {
                // 追加 Option 选项.
                $("#testSelect1").append("<option value='" + i + "'>" + i + "</option>");
                $("#testSelect2").append("<option value='" + i + "'>" + i + "</option>");
            }

            // 对比 selectmenu('refresh', true) 的调用与否.
            $('#testSelect2').selectmenu('refresh', true);

        });
    });


</script>


</body>
</html>
